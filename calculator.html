---
layout: "base.njk"
title: "Calculator"
---


<p>There's an easter egg somewhere in the Calculator program. Can you find it?</p>

<div class="calculator-container">
  <div class="liquid-glass-calc">
    <h1 class="calch1">Scientific Calculator</h1>
    
    <div class="mode-toggle">
      <button class="mode-btn active" onclick="setMode('basic')">Basic</button>
      <button class="mode-btn" onclick="setMode('scientific')">Scientific</button>
    </div>

    <div class="calc-display" id="display">0</div>
    
    <div class="calc-buttons">
      <!-- Scientific buttons (hidden in basic mode) -->
      <div class="scientific-buttons">
        <button class="calc-btn function" onclick="addToDisplay('sin(')">sin</button>
        <button class="calc-btn function" onclick="addToDisplay('cos(')">cos</button>
        <button class="calc-btn function" onclick="addToDisplay('tan(')">tan</button>
        <button class="calc-btn function" onclick="addToDisplay('log(')">log</button>
        <button class="calc-btn function" onclick="addToDisplay('ln(')">ln</button>
        <button class="calc-btn function" onclick="addToDisplay('Math.PI')">π</button>
        <button class="calc-btn function" onclick="addToDisplay('Math.E')">e</button>
        <button class="calc-btn function" onclick="addToDisplay('**')">^</button>
        <button class="calc-btn function" onclick="addToDisplay('Math.sqrt(')">√</button>
        <button class="calc-btn function" onclick="addToDisplay('(')">(</button>
        <button class="calc-btn function" onclick="addToDisplay(')')">)</button>
        <button class="calc-btn function" onclick="addToDisplay('!')">!</button>
      </div>

      <!-- Basic buttons -->
      <button class="calc-btn function" onclick="clearDisplay()">AC</button>
      <button class="calc-btn function" onclick="backspace()">⌫</button>
      <button class="calc-btn function" onclick="addToDisplay('00')">00</button>
      <button class="calc-btn operator" onclick="addToDisplay('/')">÷</button>
      <button class="calc-btn operator" onclick="addToDisplay('*')">×</button>

      <button class="calc-btn" onclick="addToDisplay('7')">7</button>
      <button class="calc-btn" onclick="addToDisplay('8')">8</button>
      <button class="calc-btn" onclick="addToDisplay('9')">9</button>
      <button class="calc-btn operator" onclick="addToDisplay('-')">-</button>

      <button class="calc-btn" onclick="addToDisplay('4')">4</button>
      <button class="calc-btn" onclick="addToDisplay('5')">5</button>
      <button class="calc-btn" onclick="addToDisplay('6')">6</button>
      <button class="calc-btn operator" onclick="addToDisplay('+')">+</button>

      <button class="calc-btn" onclick="addToDisplay('1')">1</button>
      <button class="calc-btn" onclick="addToDisplay('2')">2</button>
      <button class="calc-btn" onclick="addToDisplay('3')">3</button>
      <button class="calc-btn equals" onclick="calculate()" rowspan="2">=</button>

      <button class="calc-btn" onclick="addToDisplay('0')" style="grid-column: span 2;">0</button>
      <button class="calc-btn" onclick="addToDisplay('.')">.</button>
    </div>
  </div>

  <div class="graphing-container">
    <h2 class="calch1">Graphing Calculator</h2>
    <div class="graph-controls">
      <input type="text" class="graph-input" id="functionInput" placeholder="Enter function (e.g., Math.sin(x))">
      <button class="calc-btn" onclick="plotFunction()">Plot</button>
    </div>
    <canvas class="graph-canvas" id="graphCanvas" width="500" height="300"></canvas>
  </div>
</div>
<!--
<script>
// Calculator functionality
let currentDisplay = '0';
let scientificMode = false;

function setMode(mode) {
  scientificMode = mode === 'scientific';
  document.querySelector('.liquid-glass-calc').className = 
    scientificMode ? 'liquid-glass-calc scientific-mode' : 'liquid-glass-calc';
  
  document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
}

function updateDisplay() {
  document.getElementById('display').textContent = currentDisplay;
}

function clearDisplay() {
  currentDisplay = '0';
  updateDisplay();
}

function addToDisplay(value) {
  if (currentDisplay === '0' && !isNaN(value)) {
    currentDisplay = value;
  } else {
    currentDisplay += value;
  }
  updateDisplay();
}

function backspace() {
  if (currentDisplay.length > 1) {
    currentDisplay = currentDisplay.slice(0, -1);
  } else {
    currentDisplay = '0';
  }
  updateDisplay();
}

function calculate() {
  try {
    // Handle factorial
    let expression = currentDisplay.replace(/(\d+)!/g, 'factorial($1)');
    
    // Evaluate the expression safely
    const result = Function('"use strict";return (' + expression + ')')();
    
    // Easter egg: 5318008
    if (currentDisplay === '5318008' || result === 5318008) {
      currentDisplay = 'BOOBIES';
    } else {
      currentDisplay = result.toString();
    }
  } catch (error) {
    currentDisplay = 'Error';
  }
  updateDisplay();
}

// Factorial function for the calculator
function factorial(n) {
  if (n < 0) throw new Error('Negative factorial');
  if (n === 0 || n === 1) return 1;
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
}

// Graphing functionality
function plotFunction() {
  const canvas = document.getElementById('graphCanvas');
  const ctx = canvas.getContext('2d');
  const functionInput = document.getElementById('functionInput').value;
  
  if (!functionInput) return;
  
  // Clear canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  // Set up coordinate system
  const width = canvas.width;
  const height = canvas.height;
  const xMin = -5, xMax = 5;
  const yMin = -5, yMax = 5;
  
  // Draw axes
  ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
  ctx.lineWidth = 1;
  
  // X axis
  const xAxisY = height * (yMax / (yMax - yMin));
  ctx.beginPath();
  ctx.moveTo(0, xAxisY);
  ctx.lineTo(width, xAxisY);
  ctx.stroke();
  
  // Y axis
  const yAxisX = width * (-xMin / (xMax - xMin));
  ctx.beginPath();
  ctx.moveTo(yAxisX, 0);
  ctx.lineTo(yAxisX, height);
  ctx.stroke();
  
  // Plot the function
  ctx.strokeStyle = 'rgba(100, 200, 255, 0.8)';
  ctx.lineWidth = 2;
  ctx.beginPath();
  
  let firstPoint = true;
  
  for (let pixelX = 0; pixelX < width; pixelX++) {
    const x = xMin + (pixelX / width) * (xMax - xMin);
    
    try {
      // Safely evaluate the function
      const y = Function('"use strict";var x = ' + x + '; return (' + functionInput + ')')();
      
      if (isNaN(y) || !isFinite(y)) continue;
      
      const pixelY = height - ((y - yMin) / (yMax - yMin) * height);
      
      if (firstPoint) {
        ctx.moveTo(pixelX, pixelY);
        firstPoint = false;
      } else {
        ctx.lineTo(pixelX, pixelY);
      }
    } catch (error) {
      // Skip points that cause errors
      continue;
    }
  }
  
  ctx.stroke();
}

// Initialize
updateDisplay();

// Easter egg: Konami code
let konamiCode = [];
const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];

document.addEventListener('keydown', (e) => {
  konamiCode.push(e.code);
  if (konamiCode.length > konamiSequence.length) {
    konamiCode.shift();
  }
  
  if (konamiCode.join(',') === konamiSequence.join(',')) {
    document.body.style.background = 'linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7)';
    setTimeout(() => {
      document.body.style.background = '';
    }, 5000);
  }
});
</script>-->